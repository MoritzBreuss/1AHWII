<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personen BMI</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="form-container">
        <h2>Person erstellen</h2>
        <form id="personForm">
          <label for="name">Name:</label><br />
          <input type="text" id="name" name="name" required /><br /><br />

          <label for="gender">Geschlecht:</label><br />
          <select id="gender" name="gender" required>
            <option value="m">Männlich</option>
            <option value="f">Weiblich</option></select
          ><br /><br />

          <label for="groesse">Größe (in Metern):</label><br />
          <input
            type="number"
            id="groesse"
            name="groesse"
            step="0.01"
            required
          /><br /><br />

          <label for="gewicht">Gewicht (in Kilogramm):</label><br />
          <input
            type="number"
            id="gewicht"
            name="gewicht"
            step="0.01"
          /><br /><br />

          <label for="addToPersonList">Zur Liste hinzufügen:</label>
          <input
            type="checkbox"
            id="addToPersonList"
            name="addToPersonList"
          /><br /><br />

          <button type="submit">Person erstellen</button>
        </form>
      </div>

      <div class="output-container">
        <h2>Ausgabe</h2>
        <div id="output"></div>
      </div>
    </div>

    <div id="personList">
      <h2>Personenliste</h2>
      <ul id="list"></ul>
    </div>
    <script>
      class Person {
  constructor(name, gender, groesseM, gewichtKG) {
    if (gender !== "m" && gender !== "f") {
      throw new Error("Falsches Geschlecht");
    }
    this.name = name;
    this.gender = gender;
    this.groesseM = groesseM;
    this.gewichtKG = gewichtKG;
  }

  groesseCM() {
    return this.groesseM * 100;
  }

  vorName() {
    return this.name.split(" ")[0];
  }

  nachName() {
    return this.name.split(" ")[1];
  }

  toString() {
    return `${this.name} (${this.groesseCM()}cm, ${this.gewichtKG}kg)`;
  }

  getBmi() {
    return this.gewichtKG / (this.groesseM * this.groesseM);
  }

  getGewichtType() {
    const bmi = this.getBmi();
    if (this.gender === "f" && bmi >= 19 && bmi <= 24) {
      return "Normalgewicht";
    } else if (this.gender === "m" && bmi >= 20 && bmi <= 25) {
      return "Normalgewicht";
    } else if (bmi < 19) {
      return "Untergewicht";
    } else {
      return "Übergewicht";
    }
  }
}

document
  .getElementById("personForm")
  .addEventListener("submit", function (event) {
    event.preventDefault();

    const name = document.getElementById("name").value;
    const gender = document.getElementById("gender").value;
    const groesse = parseFloat(document.getElementById("groesse").value);
    const gewicht = parseFloat(document.getElementById("gewicht").value);
    const addToPersonList = document.getElementById("addToPersonList").checked;

    const person = new Person(name, gender, groesse, gewicht);

    const outputDiv = document.getElementById("output");
    outputDiv.innerHTML = `${person.name} hat einen BMI von ${person
      .getBmi()
      .toFixed(2)}. Das bedeutet: ${person.getGewichtType()}`;

    if (addToPersonList) {
      const list = document.getElementById("list");
      const listItem = document.createElement("li");
      listItem.textContent = person.toString();
      list.appendChild(listItem);
    }

    document.getElementById("personForm").reset();
  });

    </script>
  </body>

</html>
